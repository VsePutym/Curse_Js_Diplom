(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(function(){var t=document.querySelectorAll("form"),n=document.querySelectorAll(".form-name"),r=document.querySelectorAll(".form-tel"),o=document.querySelectorAll(".wrapper-inputs"),a=document.createElement("div");a.classList.add("status"),a.style.cssText="font-size: 2rem;\n    color: #fff; transform: translateY(200%);";var c=!1,l=!1;n.forEach((function(e){e.addEventListener("input",(function(e){var t=e.target;t.value=t.value.replace(/[^а-яА-ЯёЁ\s\-]/g,"")})),e.addEventListener("blur",(function(e){var t=e.target;t.value=t.value.replace(/\s+/g," ").replace(/\-+/g,"-").replace(/^-+|-+$/g,"").trim(),t.value.length<=1?t.value="":(t.value=t.value.split(/\s+/).map((function(e){return e[0].toUpperCase()+e.substring(1)})).join(" "),c=!0)}))})),r.forEach((function(t){t.addEventListener("input",(function(n){var r,o=n.target;o.value=o.value.replace(/[^\d()\-+]|([()\-\+])(?=\1)/g,"").replace(/^[()]/g,"").replace(/^(\+)(\d+?)([^0-9-()])+/g,(function(e,t,n){return t+n})).trim(),(r=o.value,function(t){if(Array.isArray(t))return e(t)}(r)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(r)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(e,t){"+"===e&&t>0&&(o.value=o.value.slice(0,t))})),null===/^\+?[78]+[\-\(]?(\d{3})[\-\)]?(\d{3})[-]?(\d{2})[-]?(\d{2})$/g.exec(o.value)?(l=!1,t.setCustomValidity("неверный ввод, попробуйте один из следующих форматов ввода: 81231231212 или +71231231212 или 8(123)1233265 или 8-123-123-12-12 или +7(123)123-12-12 или 8(123)123-12-12 или +7123-123-12-12")):(o.value=o.value.replace(/^\+?[78]+[\-\(]?(\d{3})[\-\)]?(\d{3})[-]?(\d{2})[-]?(\d{2})$/gm,"+7($1)$2-$3-$4").trim(),l=!0,t.setCustomValidity(""))}))})),t.forEach((function(e){e.addEventListener("submit",(function(t){if(t.preventDefault(),c&&l){e.appendChild(a),o.forEach((function(e){e.style.display="none"})),a.textContent="идет отправка";var n=new FormData(e);u(n).then((function(e){if(200!==e.status)throw new Error("status network not 200.");a.textContent="отправлено"})).catch((function(e){a.textContent="ошибка",console.error(e)}))}}))}));var u=function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:e})}})(),function(){document.querySelector(".club-select");var e,t=document.getElementById("changeGym"),n=document.documentElement.clientWidth,r=60,o=function n(){e=requestAnimationFrame(n),++r<110?t.style.top=r+"%":r>110?t.style.top="110%":cancelAnimationFrame(e)};n>768&&document.addEventListener("click",(function(n){n.target.classList.contains("clubSelect")||(t.style.display="block",r=60,e=requestAnimationFrame(o)),n.target.matches(".form-content")||null===n.target.closest(".club-select")&&(t.style.display="none")})),n<768&&document.addEventListener("click",(function(e){t.style.top="50px",t.style.display="block",e.target.matches(".form-content")||null===e.target.closest(".club-select")&&(t.style.display="none")}))}(),function(){var e,t=document.getElementById("free_visit_form"),n=document.getElementById("callback_form"),r=t.querySelector(".form-wrapper"),o=n.querySelector(".form-wrapper"),a=document.querySelectorAll(".form-text"),c=document.querySelectorAll(".wrapper-inputs"),l=document.querySelectorAll('input[type="checkbox"]'),u=document.documentElement.clientWidth,i=50;document.addEventListener("click",(function(d){d.target.matches(".open-popup")?d.target&&(u>768?(t.style.display="block",i=50,e=requestAnimationFrame(s)):u<768&&(t.style.display="block",r.style.top="11%")):d.target.classList.contains("overlay")&&(t.style.display="none",a.forEach((function(e){e.value="",document.querySelector(".status").textContent=""})),l.forEach((function(e){e.checked=!1})),c.forEach((function(e){e.style.display="block"}))),d.target.matches(".callback-btn")?d.target&&(u>768?(n.style.display="block",i=50,e=requestAnimationFrame(s)):u<768&&(n.style.display="block",o.style.top="11%")):d.target.classList.contains("overlay")&&(n.style.display="none",a.forEach((function(e){e.value="",document.querySelector(".status").textContent=""})),l.forEach((function(e){e.checked=!1})),c.forEach((function(e){e.style.display="block"}))),d.target.matches(".form-content")||d.target.closest(".close_icon")&&(t.style.display="none",n.style.display="none",c.forEach((function(e){e.style.display="block"})),a.forEach((function(e){e.value="",document.querySelector(".status").textContent="",l.forEach((function(e){e.checked=!1}))})))}));var s=function t(){e=requestAnimationFrame(t),--i>10?(r.style.top=i+"%",o.style.top=i+"%"):cancelAnimationFrame(e)}}()})();