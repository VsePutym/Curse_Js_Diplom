/*! For license information please see production-bundle.js.LICENSE.txt */
(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var t,n,o,r,c;(function(){var t=document.querySelectorAll("form"),n=document.querySelectorAll(".form-name"),o=document.querySelectorAll(".form-tel"),r=document.querySelectorAll('input[type="checkbox"]'),c=document.querySelectorAll(".wrapper-inputs"),l=document.querySelectorAll(".form-text"),a=document.querySelectorAll(".check-footer"),s=document.getElementById("card_order"),i=(document.getElementById("banner-form"),document.querySelectorAll(".popup")),u=document.createElement("div");u.classList.add("status"),u.style.cssText="\n    color: #ffd11a;\n    display: contents;\n    transform: translateY(200%);\n    font-size: 2rem;\n    text-align: center;";var d=!1,m=!1,y=!1,p=function(){l.forEach((function(e){e.value=""})),r.forEach((function(e){e.checked=!1})),c.forEach((function(e){e.style.display="block"}))};n.forEach((function(e){e.addEventListener("input",(function(e){var t=e.target;t.value=t.value.replace(/[^а-яА-ЯёЁ\s\-]/g,"")})),e.addEventListener("blur",(function(e){var t=e.target;t.value=t.value.replace(/\s+/g," ").replace(/\-+/g,"-").replace(/^-+|-+$/g,"").trim(),t.value.length<=1?t.value="":(t.value=t.value.split(/\s+/).map((function(e){return e[0].toUpperCase()+e.substring(1)})).join(" "),d=!0)}))})),r.forEach((function(e){e.addEventListener("click",(function(){y=!0===e.checked}))})),o.forEach((function(t){t.addEventListener("input",(function(n){var o,r=n.target;r.value=r.value.replace(/[^\d()\-+]|([()\-\+])(?=\1)/g,"").replace(/^[()]/g,"").replace(/^(\+)(\d+?)([^0-9-()])+/g,(function(e,t,n){return t+n})).trim(),(o=r.value,function(t){if(Array.isArray(t))return e(t)}(o)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(o)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,n):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(e,t){"+"===e&&t>0&&(r.value=r.value.slice(0,t))})),null===/^\+?[78]+[\-\(]?(\d{3})[\-\)]?(\d{3})[-]?(\d{2})[-]?(\d{2})$/g.exec(r.value)?(m=!1,t.setCustomValidity("неверный ввод, попробуйте один из следующих форматов ввода: 81231231212 или +71231231212 или 8(123)1233265 или 8-123-123-12-12 или +7(123)123-12-12 или 8(123)123-12-12 или +7123-123-12-12")):(r.value=r.value.replace(/^\+?[78]+[\-\(]?(\d{3})[\-\)]?(\d{3})[-]?(\d{2})[-]?(\d{2})$/gm,"+7($1)$2-$3-$4").trim(),m=!0,t.setCustomValidity(""))}))})),t.forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefault();var t=document.getElementById("footer_form");e.target===t&&a.forEach((function(e){!0===e.checked&&(y=!0,d=!0)}));var n=document.getElementById("card_order"),o=document.querySelector(".check_club-cards");e.target===n&&(y=!0===o.checked);var r=document.getElementById("form2"),l=document.getElementById("check2");e.target===r&&(y=!0===l.checked);var g=document.getElementById("form1"),h=document.getElementById("check");e.target===g&&(y=!0===h.checked);var v=document.getElementById("banner-form"),E=document.getElementById("check1");e.target===v&&(y=!0===E.checked);var b=e.target;if(!0===m&&!0===y&&!0===d){b.appendChild(u),u.style.display="contents",u.textContent="идет отправка";var k=new FormData(b);f(k).then((function(e){if(200!==e.status)throw new Error("status network not 200.");b!==t&&b!==s&&b!==v?c.forEach((function(e){e.style.display="none",u.style.display="block"})):u.style.display="contents",u.textContent="отправлено",setTimeout((function(){u.remove(),i.forEach((function(e){e.style.display="none"})),p()}),2e3)})).catch((function(e){b!==t&&b!==s&&b!==v?c.forEach((function(e){e.style.display="none",u.style.display="block"})):u.style.display="contents",u.textContent="ошибка",setTimeout((function(){u.remove(),i.forEach((function(e){e.style.display="none"})),p()}),2e3),console.error(e)}))}}))}));var f=function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:e})}})(),n=document.getElementById("changeGym"),o=document.documentElement.clientWidth,r=60,c=function e(){t=requestAnimationFrame(e),++r<110?n.style.top=r+"%":r>110?n.style.top="110%":cancelAnimationFrame(t)},o>768&&document.addEventListener("click",(function(e){e.target.matches(".clubs")&&(n.style.display="block",r=60,t=requestAnimationFrame(c)),e.target.matches(".club-select")||null===e.target.closest(".club-select")&&(n.style.display="none")})),o<768&&document.addEventListener("click",(function(e){n.style.top="50px",n.style.display="block",e.target.matches(".form-content")||null===e.target.closest(".club-select")&&(n.style.display="none")})),function(){var e,t=document.getElementById("free_visit_form"),n=document.getElementById("callback_form"),o=t.querySelector(".form-wrapper"),r=n.querySelector(".form-wrapper"),c=document.querySelector(".wrapper-present"),l=document.querySelectorAll(".form-text"),a=document.querySelectorAll('input[type="checkbox"]'),s=document.querySelectorAll(".wrapper-inputs"),i=document.getElementById("gift"),u=document.querySelector(".present"),d=document.documentElement.clientWidth,m=50,y=function(){l.forEach((function(e){e.value=""})),a.forEach((function(e){e.checked=!1})),s.forEach((function(e){e.style.display="block"}))};document.addEventListener("click",(function(l){l.target.matches(".open-popup")?l.target&&(d>768?(t.style.display="block",m=50,e=requestAnimationFrame(p)):d<768&&(t.style.display="block",o.style.top="11%")):l.target.classList.contains("overlay")&&(t.style.display="none",y()),l.target.matches(".callback-btn")?l.target&&(d>768?(n.style.display="block",m=50,e=requestAnimationFrame(p)):d<768&&(n.style.display="block",r.style.top="11%")):l.target.classList.contains("overlay")&&(n.style.display="none",y()),l.target.matches(".present")?l.target&&(d>768?(i.style.display="block",m=50,e=requestAnimationFrame(p)):d<768&&(i.style.display="block",c.style.top="11%")):(l.target.classList.contains("overlay-present")||l.target.matches(".close-present")||l.target.matches(".close-ok"))&&(i.style.display="none",u.style.display="none"),l.target.matches(".form-content")||l.target.closest(".close_icon")&&(t.style.display="none",n.style.display="none",y())}));var p=function t(){e=requestAnimationFrame(t),--m>10?(o.style.top=m+"%",r.style.top=m+"%",c.style.top=m+"%"):cancelAnimationFrame(e)}}(),function(){var e=document.querySelector(".main-slider"),t=document.body.querySelectorAll(".slide");e.style.cssText="\n    height: 100%;\n    max-height: 541px;\n    padding-top: 23px;\n    ";var n=0,o=function(){t[n].style.display="none",++n>=5&&(n=0),t[n].style.display="block"};!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;setInterval(o,e)}(2e3)}()})();