/*! For license information please see production-bundle.js.LICENSE.txt */
(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}const o=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mozaikaM1=1999,this.mozaikaM2=9900,this.mozaikaM3=13900,this.mozaikaM4=19900,this.schelkovoM1=2999,this.schelkovoM2=14999,this.schelkovoM3=21999,this.schelkovoM4=24990,this.total=1999,this.promo=!1}var t,o;return t=e,(o=[{key:"discount",value:function(){if(!0===this.promo){var e=document.getElementById("price-total"),t=30*this.total/100,n=this.total-t;e.textContent=Math.floor(n)}else if(!1===this.promo){var o=document.getElementById("price-total");this.sum=this.total,o.textContent=Math.floor(this.sum)}}},{key:"showResult",value:function(){var e=this;this.discount();var t="ТЕЛО2019";document.querySelector(".promocat").addEventListener("input",(function(n){var o=n.target;o.value===t&&(e.promo=!0,e.discount()),o.value!==t&&(e.promo=!1,e.discount())}))}},{key:"calc",value:function(){var e=this,t=document.getElementById("card_leto_mozaika"),n=document.getElementById("card_leto_schelkovo"),o=document.getElementById("card_order"),c=document.getElementById("m1"),l=document.getElementById("m2"),a=document.getElementById("m3"),r=document.getElementById("m4");o.addEventListener("click",(function(o){var s=o.target,i=document.getElementById("price-total");i&&"1999"===i.textContent&&(e.promo=!1),t&&t.checked&&(c.checked?(e.total=e.mozaikaM1,e.showResult()):l.checked?(e.total=e.mozaikaM2,e.showResult()):a.checked?(e.total=e.mozaikaM3,e.showResult()):r.checked&&(e.total=e.mozaikaM4,e.showResult())),n&&n.checked&&(c.checked?(e.total=e.schelkovoM1,e.showResult()):l.checked?(e.total=e.schelkovoM2,e.showResult()):a.checked?(e.total=e.schelkovoM3,e.showResult()):r.checked&&(e.total=e.schelkovoM4,e.showResult())),s===e.promocat&&e.showResult()}))}}])&&n(t.prototype,o),e}());var c,l,a,r,s;(function(){var t=document.querySelectorAll("form"),n=document.querySelectorAll(".form-name"),o=document.querySelectorAll(".form-tel"),c=document.querySelectorAll('input[type="checkbox"]'),l=document.querySelectorAll(".form-text"),a=document.querySelectorAll(".check-footer"),r=document.querySelectorAll(".popup"),s=document.createElement("div");s.classList.add("status"),s.style.cssText="\n    font-size: 20px;\n    width: 90%;\n    color: #fff;\n    font-weight: 500;\n    margin-top: 30px;";var i=document.createElement("div");i.classList.add("status-cheked"),i.textContent="Не стоит галочка согласен на обработку данных",i.style.cssText="\n    color: #ffd11a;\n    display: contents;\n    margin-top: 10px;\n    font-size: 1rem;\n    text-align: center;",document.querySelectorAll(".btn-send").forEach((function(e){e.style.cssText="\n        margin-bottom: 10px;\n        height: 45px;\n        width: 160px;"})),document.getElementById("person-banner").style.cssText="\n    margin-top: 17px;\n    margin-bottom: 15px;\n    position: relative;\n    ";var u=!1,d=!1,m=!1,y=function(){var e=document.getElementById("price-total"),t=document.getElementById("card_leto_mozaika");e&&(e.textContent=1999),t&&(t.checked=!0),document.getElementById("m1").checked=!0,l.forEach((function(e){e.value=""})),c.forEach((function(e){e.checked=!1})),s.remove(),r.forEach((function(e){e.style.display="none"})),u=!1,d=!1,m=!1},p=function(e,t){var n=document.getElementById("thanks"),o=document.getElementById("status");document.getElementById("modalText").textContent=e,o.textContent=t,n.style.display="block"};c.forEach((function(e){e.addEventListener("click",(function(){m=!0===e.checked}))})),n.forEach((function(e){e.addEventListener("input",(function(e){var t=e.target;t.value=t.value.replace(/[^а-яА-ЯёЁ\s\-]/g,"")})),e.addEventListener("blur",(function(e){var t=e.target;t.value=t.value.replace(/\s+/g," ").replace(/\-+/g,"-").replace(/^-+|-+$/g,"").trim(),t.value.length<=1?t.value="":(t.value=t.value.split(/\s+/).map((function(e){return e[0].toUpperCase()+e.substring(1)})).join(" "),u=!0)}))})),o.forEach((function(t){t.addEventListener("input",(function(n){var o,c=n.target;c.value=c.value.replace(/[^\d()\-+]|([()\-\+])(?=\1)/g,"").replace(/^[()]/g,"").replace(/^(\+)(\d+?)([^0-9-()])+/g,(function(e,t,n){return t+n})).trim(),(o=c.value,function(t){if(Array.isArray(t))return e(t)}(o)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(o)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,n):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(e,t){"+"===e&&t>0&&(c.value=c.value.slice(0,t))})),null===/^\+?[78]+[\-\(]?(\d{3})[\-\)]?(\d{3})[-]?(\d{2})[-]?(\d{2})$/g.exec(c.value)?(d=!1,t.setCustomValidity("неверный ввод, попробуйте один из следующих форматов ввода: 81231231212 или +71231231212 или 8(123)1233265 или 8-123-123-12-12 или +7(123)123-12-12 или 8(123)123-12-12 или +7123-123-12-12")):(c.value=c.value.replace(/^\+?[78]+[\-\(]?(\d{3})[\-\)]?(\d{3})[-]?(\d{2})[-]?(\d{2})$/gm,"+7($1)$2-$3-$4").trim(),d=!0,t.setCustomValidity(""))}))})),t.forEach((function(e){e.addEventListener("submit",(function(t){t.preventDefault();var n=t.target;if(n===document.getElementById("footer_form")&&(m=!0,a.forEach((function(e){!0===e.checked&&(m=!0,u=!0)}))),n===e&&document.querySelectorAll(".check-form").forEach((function(t){e.contains(t)&&(!0===t.checked?m=!0:!0!==t.checked&&(m=!1,e.appendChild(i)))})),!0===d&&!0===m&&!0===u){i.remove(),n.appendChild(s),s.style.display="contents",s.textContent="идет отправка";var o=new FormData(n);f(o).then((function(e){if(200!==e.status)throw new Error("status network not 200.");y(),p("Ваша заявка отправлена, скоро мы с вами свяжемся","Спасибо"),setTimeout((function(){y()}),2e3)})).catch((function(e){y(),p("Упс что-то пошло не так, сервер устал и прилёг","Ошибка"),setTimeout((function(){y()}),2e3),console.error(e)}))}}))}));var f=function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object.fromEntries(e))})}})(),l=document.getElementById("changeGym"),a=document.documentElement.clientWidth,r=60,s=function e(){c=requestAnimationFrame(e),++r<110?l.style.top=r+"%":r>110?l.style.top="110%":cancelAnimationFrame(c)},a>768&&document.addEventListener("click",(function(e){e.target.matches(".clubs")&&(l.style.display="block",r=60,c=requestAnimationFrame(s)),e.target.matches(".club-select")||null===e.target.closest(".club-select")&&(l.style.display="none")})),a<768&&document.addEventListener("click",(function(e){l.style.top="50px",l.style.display="block",e.target.matches(".form-content")||null===e.target.closest(".club-select")&&(l.style.display="none")})),function(){var e,t=document.getElementById("free_visit_form"),n=document.getElementById("callback_form"),o=t.querySelector(".form-wrapper"),c=n.querySelector(".form-wrapper"),l=document.querySelector(".wrapper-present"),a=document.querySelectorAll(".form-text"),r=document.querySelectorAll('input[type="checkbox"]'),s=document.getElementById("gift"),i=document.querySelector(".present"),u=document.getElementById("thanks"),d=document.documentElement.clientWidth,m=50;document.addEventListener("click",(function(p){var f=document.querySelector(".status-cheked"),h=function(){a.forEach((function(e){e.value=""})),r.forEach((function(e){e.checked=!1})),t.style.display="none",n.style.display="none",u.style.display="none",s.style.display="none",f&&f.remove()};p.target.matches(".open-popup")&&p.target&&(d>768?(t.style.display="block",m=50,e=requestAnimationFrame(y)):d<768&&(t.style.display="block",o.style.top="11%")),p.target.matches(".callback-btn")&&p.target&&(d>768?(n.style.display="block",m=50,e=requestAnimationFrame(y)):d<768&&(n.style.display="block",c.style.top="11%")),p.target.matches(".present")&&p.target&&(d>768?(s.style.display="block",i.style.display="none",m=50,e=requestAnimationFrame(y)):d<768&&(s.style.display="block",i.style.display="none",l.style.top="11%")),p.target.matches(".close-btn")&&h(),p.target.matches(".overlay")&&h(),p.target.matches(".form-content")||p.target.closest(".close_icon")&&h()}));var y=function t(){e=requestAnimationFrame(t),--m>10?(o.style.top=m+"%",c.style.top=m+"%",l.style.top=m+"%"):cancelAnimationFrame(e)}}(),function(){var e=document.querySelector(".main-slider"),t=document.body.querySelectorAll(".slide");e.style.cssText="\n    height: 100%;\n    max-height: 541px;\n    padding-top: 23px;\n    ";var n=0,o=function(){t[n].style.display="none",++n>=5&&(n=0),t[n].style.display="block"};!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;setInterval(o,e)}(2e3)}(),function(){var e=document.querySelector(".services-slider"),t=document.querySelectorAll(".services_slide"),n=document.querySelector(".services_slide-active");e.style.cssText="\n    position: relative;\n    overflow: hidden;\n    display: flex;\n    margin: 0 auto;\n    padding-left: 15px;\n    padding-right: 15px;\n    transition: 250ms;",t.forEach((function(e){e.matches(".services_slide-active")?e.style.cssText="transition: all 0.2s linear 0s; min-width: 210px; margin-left: 0px;":e.style.cssText="min-width: 210px; margin-right: 8px; margin-left: 8px;"}));var o=0,c=-1125;document.addEventListener("click",(function(e){var t=e.target;t.closest(".prev")&&(o<0&&(o+=225,n.style.marginLeft="".concat(o,"px")),o>=0&&(o=c,n.style.cssText="transition: all 0.2s linear 0s; min-width: 210px; margin-left: 0px;")),t.closest(".next")&&(o>c&&(o-=225,n.style.marginLeft="".concat(o,"px")),o===c&&(o=0,n.style.cssText="transition: all 0.2s linear 0s; min-width: 210px; margin-left: 0px;"))}))}(),function(){var e=document.querySelector(".gallery-slider"),n=document.querySelectorAll(".slider-gallery"),o=document.querySelector(".slider-dots"),c=document.querySelector(".gallery-slider-wrapper");document.querySelectorAll(".img-slide-gallery").forEach((function(e){e.style.maxWidth="600px"})),c.style.position="relative";var l=new(function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elem=t,this.newClass=n}var n,c;return n=e,(c=[{key:"addNewClass",value:function(){this.elem=document.createElement("li"),this.elem.classList.add("dot"),o.append(this.elem)}}])&&t(n.prototype,c),e}());n.forEach((function(e){e&&l.addNewClass()})),document.querySelectorAll(".dot")[0].classList.add("slick-active");var a,r=0,s=function(e,t,n){e[t].classList.remove(n)},i=function(e,t,n){e[t].classList.add(n)},u=function(){var e=document.querySelectorAll(".dot");s(n,r,"slick-active"),s(e,r,"slick-active"),++r>=n.length&&(r=0),i(n,r,"slick-active"),i(e,r,"slick-active")},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;a=setInterval(u,e)};e.addEventListener("click",(function(e){var t=document.querySelectorAll(".dot");e.preventDefault();var o=e.target;o.matches(".fa")&&(s(n,r,"slick-active"),s(t,r,"slick-active"),o.closest(".next-g")&&r++,o.closest(".prev-g")?r--:o.matches(".dot")&&t.forEach((function(e,t){e===o&&(r=t)})),r>=n.length&&(r=0),r<0&&(r=n.length-1),i(n,r,"slick-active"),i(t,r,"slick-active"))})),e.addEventListener("mouseover",(function(e){(e.target.matches(".fa")||e.target.matches(".dot"))&&clearInterval(a)})),e.addEventListener("mouseout",(function(e){(e.target.matches(".fa")||e.target.matches(".dot"))&&d()})),d(1500)}(),o.calc(),function(){var e=document.querySelector(".popup-menu"),t=document.getElementById("totop"),n=document.querySelector(".top-menu"),o=document.documentElement.clientWidth;t.style.display="none",document.addEventListener("scroll",(function(){var e=document.documentElement.scrollTop;o<768?e>=300?(n.style.cssText="position: fixed; z-index: 1120",t.style.display="block"):(n.style.cssText="position: relative z-index: 1120;",t.style.display="none"):o>768&&(t.style.display=e>=300?"block":"none")})),document.addEventListener("click",(function(t){var n=t.target;n.matches(".iconBurger")&&(e.style.display="block"),n.closest(".close-menu-btn")&&n.closest(".close-menu-btn")&&(e.style.display="none"),n.matches(".hidden-large")&&(e.style.display="none"),n.matches("ul>li")||n.closest("ul>li")&&(e.style.display="none")}))}()})();